"use strict";(self.webpackChunkreact_hello_webapp=self.webpackChunkreact_hello_webapp||[]).push([[218],{15218:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(15861),r=n(29439),s=n(64687),i=n.n(s),c=n(67294),o=n(29331),l=n(55168),u=n(87907),m=n(73727),p=n(86455),d=n.n(p);const f=function(){var e=(0,c.useContext)(o._),t=e.store,n=e.actions,s=(0,l.useHistory)(""),p=(0,c.useState)(""),f=(0,r.Z)(p,2),g=f[0],w=f[1],h=(0,c.useState)(""),E=(0,r.Z)(h,2),v=E[0],b=E[1],k=(0,c.useState)(!1),C=(0,r.Z)(k,2),_=C[0],y=C[1],N=function(){var e=(0,a.Z)(i().mark((function e(a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n.login_qr_user(g,v);case 3:e.sent&&(y(t.userqr.qr_image),d().fire({icon:"success",title:"Welcome: ".concat(t.userqr.username),showConfirmButton:!1,timer:2e3}),s.push("/iq-sms"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!=g.includes("@")){e.next=4;break}return alert("Invalid email"),e.abrupt("return");case 4:if({JREmail:g},""!=g){e.next=8;break}return alert("Write your email"),e.abrupt("return");case 8:return console.log("validating"),e.next=11,fetch("http://74.207.229.40:3341/new_password",{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({email:g})});case 11:return n=e.sent,e.next=14,n.json();case 14:return a=e.sent,d().fire({icon:"danger",title:"Error: ".concat(a.message),showConfirmButton:!0,timer:2e3}),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(0,c.useState)(!0),P=(0,r.Z)(S,2),Z=P[0],q=P[1],T=Z.isPasswordShown;return(0,c.useEffect)((function(){window.scrollTo(0,0)}),[]),c.createElement("div",{className:"login background-login"},_?c.createElement(c.Fragment,null,c.createElement("img",{src:"data:image/png;base64,".concat(_),alt:"QR Code"})):c.createElement("div",{className:"login__container"},c.createElement(m.rU,{to:"/"},c.createElement("img",{src:u.Z,className:"login__img",alt:""})),c.createElement("h1",null),c.createElement("input",{className:"sign-input text-dark",type:"email",placeholder:"Email/Username",id:"email",name:"email",onChange:function(e){return w(e.target.value)}}),c.createElement("br",null),c.createElement("div",{className:"wrap-input100 validate-input"},c.createElement("input",{className:"sign-input text-dark",placeholder:"Password",type:T?"text":"password",id:"passlogin",onKeyPress:function(e){"Enter"===e.key&&N(e)},onChange:function(e){b(e.target.value)}}),c.createElement("i",{className:"fa fa-eye password-icon",onClick:function(){var e=Z.isPasswordShown;q({isPasswordShown:!e})}})),c.createElement("div",{className:"sign-in-buttons"},c.createElement("button",{className:"cta-select",onClick:N}," ","Sign In")),c.createElement("div",{className:"sign-in-buttons"},c.createElement("button",{className:"cta-select",onClick:x}," ","Forgot Password"))))}}}]);