"use strict";(self.webpackChunkreact_hello_webapp=self.webpackChunkreact_hello_webapp||[]).push([[3418],{12629:(e,t,i)=>{function n(e){return"string"==typeof e?Number.parseInt(e,"0x"===e.trim().substring(0,2)?16:10):"bigint"==typeof e?Number(e):e}i.d(t,{n:()=>n})},53418:(e,t,i)=>{i.d(t,{PaperWalletConnector:()=>h});var n=i(42493),r=i(13389),o=i(74018),s=i(62914),a=i(12629),l=i(6601),d=i(47628),c=(i(65007),new WeakMap);class h extends d.C{constructor(e){super(),(0,r._)(this,"id",l.w.paper),(0,r._)(this,"name","Paper Wallet"),(0,r._)(this,"ready",!0),(0,r._)(this,"user",null),(0,n._)(this,c,{writable:!0,value:void 0}),(0,r._)(this,"onAccountsChanged",(async e=>{0===e.length?await this.onDisconnect():this.emit("change",{account:s.getAddress(e[0])})})),(0,r._)(this,"onChainChanged",(e=>{const t=(0,a.n)(e),i=-1===this.options.chains.findIndex((e=>e.chainId===t));this.emit("change",{chain:{id:t,unsupported:i}})})),(0,r._)(this,"onDisconnect",(async()=>{this.emit("disconnect")})),this.options=e}getPaperSDK(){return this.paper||(this.paper=new Promise((async(e,t)=>{const n=this.options.advancedOptions?.recoveryShareManagement;try{const{PaperEmbeddedWalletSdk:t}=await Promise.resolve().then(i.bind(i,74018)),r={AWS_MANAGED:o.pw.AWS_MANAGED,USER_MANAGED:o.pw.USER_MANAGED};e(new t({advancedOptions:{recoveryShareManagement:n?r[n]:void 0},clientId:this.options.clientId,chain:"Ethereum",styles:this.options.styles,onAuthSuccess:this.options.onAuthSuccess}))}catch(e){t(e)}}))),this.paper}async connect(e){const t=await this.getPaperSDK();if(!t)throw new Error("Paper SDK not initialized");const i=await t.getUser();switch(i.status){case o.J0.LOGGED_OUT:{let i;if(e?.googleLogin){const n=e.googleLogin;i=await t.auth.loginWithGoogle("object"==typeof n?n:void 0)}else i=e?.email&&e?.otp?await t.auth.verifyPaperEmailLoginOtp({email:e.email,otp:e.otp,recoveryCode:e.recoveryCode}):e?.email?await t.auth.loginWithPaperEmailOtp({email:e.email}):await t.auth.loginWithPaperModal();this.user=i.user;break}case o.J0.LOGGED_IN_WALLET_INITIALIZED:"object"==typeof e?.googleLogin&&e.googleLogin.closeOpenedWindow&&e.googleLogin.openedWindow&&e.googleLogin.closeOpenedWindow(e.googleLogin.openedWindow),this.user=i}if(!this.user)throw new Error("Error connecting User");return e?.chainId&&this.switchChain(e.chainId),this.setupListeners(),this.getAddress()}async disconnect(){const e=await this.paper;await(e?.auth.logout()),(0,n.a)(this,c,void 0),this.user=null}async getAddress(){return(await this.getSigner()).getAddress()}async isConnected(){try{return!!await this.getAddress()}catch(e){return!1}}async getProvider(){const e=await this.getSigner();if(!e.provider)throw new Error("Provider not found");return e.provider}async getSigner(){if((0,n.b)(this,c))return(0,n.b)(this,c);if(!this.user){const e=await this.getPaperSDK(),t=await e.getUser();if(t.status===o.J0.LOGGED_IN_WALLET_INITIALIZED)this.user=t}const e=await(this.user?.wallet.getEthersJsSigner({rpcEndpoint:this.options.chain.rpc[0]||""}));if(!e)throw new Error("Signer not found");return(0,n.a)(this,c,e),e}async isAuthorized(){return!1}async switchChain(e){const t=this.options.chains.find((t=>t.chainId===e));if(!t)throw new Error("Chain not configured");await(this.user?.wallet.setChain({chain:"Ethereum"})),(0,n.a)(this,c,await(this.user?.wallet.getEthersJsSigner({rpcEndpoint:t.rpc[0]||""}))),this.emit("change",{chain:{id:e,unsupported:!1}})}async setupListeners(){const e=await this.getProvider();e.on&&(e.on("accountsChanged",this.onAccountsChanged),e.on("chainChanged",this.onChainChanged),e.on("disconnect",this.onDisconnect))}updateChains(e){this.options.chains=e}async getEmail(){if(await this.getProvider(),!this.user)throw new Error("No user found, Paper Wallet is not connected");return this.user.authDetails.email}}},74018:(e,t,i)=>{i.d(t,{J0:()=>O,PaperEmbeddedWalletSdk:()=>z,pw:()=>S});var n,r,o,s=i(73934),a=i(1037),l=i(47425),d=i(86540),c=Object.defineProperty,h=Object.defineProperties,u=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,w=(e,t,i)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,I=(e,t)=>{for(var i in t||(t={}))p.call(t,i)&&w(e,i,t[i]);if(g)for(var i of g(t))m.call(t,i)&&w(e,i,t[i]);return e},v=(e,t)=>h(e,u(t)),y=(e,t,i)=>new Promise(((n,r)=>{var o=e=>{try{a(i.next(e))}catch(e){r(e)}},s=e=>{try{a(i.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);a((i=i.apply(e,t)).next())})),f="/sdk/2022-08-12/embedded-wallet",L=e=>`paperEwsWalletUserId-${e}`,E=e=>`walletToken-${e}`,A=(e,t)=>`a-${e}-${t}`,S=((r=S||{}).USER_MANAGED="USER_MANAGED",r.AWS_MANAGED="AWS_MANAGED",r),W=((n=W||{}).PAPER_EMAIL_OTP="PaperEmailOTP",n.GOOGLE="Google",n.TWITTER="Twitter",n.COGNITO="Cognito",n.AUTH0="Auth0",n.CUSTOM_JWT="CustomJWT",n),O=(e=>(e.LOGGED_OUT="Logged Out",e.LOGGED_IN_WALLET_INITIALIZED="Logged In, Wallet Initialized",e))(O||{}),D=((o=D||{}).LOGGED_OUT="Logged Out",o.LOGGED_IN_WALLET_UNINITIALIZED="Logged In, Wallet Uninitialized",o.LOGGED_IN_NEW_DEVICE="Logged In, New Device",o.LOGGED_IN_WALLET_INITIALIZED="Logged In, Wallet Initialized",o),M=new Map,_=class{constructor({clientId:e}){this.isSupported="undefined"!=typeof window&&!!window.localStorage,this.clientId=e}getItem(e){return y(this,null,(function*(){var t;return this.isSupported?window.localStorage.getItem(e):null!=(t=M.get(e))?t:null}))}setItem(e,t){return y(this,null,(function*(){if(this.isSupported)return window.localStorage.setItem(e,t);M.set(e,t)}))}removeItem(e){return y(this,null,(function*(){let t=yield this.getItem(e);return!(!this.isSupported||!t)&&(window.localStorage.removeItem(e),!0)}))}saveAuthCookie(e){return y(this,null,(function*(){yield this.setItem(E(this.clientId),e)}))}getAuthCookie(){return y(this,null,(function*(){return this.getItem(E(this.clientId))}))}removeAuthCookie(){return y(this,null,(function*(){return this.removeItem(E(this.clientId))}))}saveDeviceShare(e,t){return y(this,null,(function*(){yield this.saveWalletUserId(t),yield this.setItem(A(this.clientId,t),e)}))}getDeviceShare(){return y(this,null,(function*(){let e=yield this.getWalletUserId();return e?this.getItem(A(this.clientId,e)):null}))}removeDeviceShare(){return y(this,null,(function*(){let e=yield this.getWalletUserId();return!!e&&this.removeItem(A(this.clientId,e))}))}getWalletUserId(){return y(this,null,(function*(){return this.getItem(L(this.clientId))}))}saveWalletUserId(e){return y(this,null,(function*(){yield this.setItem(L(this.clientId),e)}))}removeWalletUserId(){return y(this,null,(function*(){return this.removeItem(L(this.clientId))}))}};function C(e){return new Promise((t=>{setTimeout(t,1e3*e)}))}var N={height:"100%",width:"100%",border:"none",backgroundColor:"transparent",colorScheme:"light",position:"fixed",top:"0px",right:"0px",zIndex:"2147483646",display:"none"},P=new Map,T=class{constructor({link:e,iframeId:t,container:i=document.body,iframeStyles:n,onIframeInitialize:r}){this.POLLING_INTERVAL_SECONDS=1.4,this.POST_LOAD_BUFFER_SECONDS=1;let o=document.getElementById(t),s=new URL(e),a="1.2.5";if(s.searchParams.set("sdkVersion",a),!o||o.src!=s.href){if(!o){o=document.createElement("iframe");let e=I(I({},N),n);Object.assign(o.style,e),o.setAttribute("id",t),o.setAttribute("fetchpriority","high"),i.appendChild(o)}o.src=s.href,o.setAttribute("data-version",a),o.onload=this.onIframeLoadHandler(o,this.POST_LOAD_BUFFER_SECONDS,r)}this.iframe=o}onIframeLoadedInitVariables(){return y(this,null,(function*(){return{}}))}onIframeLoadHandler(e,t,i){return()=>y(this,null,(function*(){yield new Promise(((n,r)=>y(this,null,(function*(){var o;let a=new MessageChannel;a.port1.onmessage=t=>{let{data:o}=t;return a.port1.close(),o.success?(P.set(e.src,!0),i&&i(),n(!0)):r(new Error(o.error))},yield C(t);null==(o=null==e?void 0:e.contentWindow)||o.postMessage({eventType:"initIframe",data:yield this.onIframeLoadedInitVariables()},`${(0,s.OB)()}${f}`,[a.port2])}))))}))}call(e){return y(this,arguments,(function*({procedureName:e,params:t,showIframe:i=!1,injectRecoveryCode:n={isInjectRecoveryCode:!1}}){for(;!P.get(this.iframe.src);)yield C(this.POLLING_INTERVAL_SECONDS);return i&&(this.iframe.style.display="block",yield C(.005)),new Promise(((r,o)=>{var a;if(n.isInjectRecoveryCode){let e=t=>y(this,null,(function*(){var i,r;if(t.origin!==(0,s.OB)()||"paper_getRecoveryCode"!==t.data.type||"string"!=typeof t.data.userWalletId)return;let o=yield null==(i=n.getRecoveryCode)?void 0:i.call(n,t.data.userWalletId);null==(r=this.iframe.contentWindow)||r.postMessage({type:"paper_getRecoveryCode_response",recoveryCode:o},(0,s.OB)()),window.removeEventListener("message",e)}));window.addEventListener("message",e)}let l=new MessageChannel;l.port1.onmessage=e=>y(this,null,(function*(){let{data:t}=e;l.port1.close(),i&&(yield C(.1),this.iframe.style.display="none"),t.success?r(t.data):o(new Error(t.error))})),null==(a=this.iframe.contentWindow)||a.postMessage({eventType:e,data:t},`${(0,s.OB)()}${f}`,[l.port2])}))}))}destroy(){P.delete(this.iframe.src)}},G=class extends T{constructor({clientId:e,customizationOptions:t}){super({iframeId:b,link:U({clientId:e,path:f,queryParams:t}).href,container:document.body}),this.clientId=e}onIframeLoadedInitVariables(){return y(this,null,(function*(){let e=new _({clientId:this.clientId});return{authCookie:yield e.getAuthCookie(),deviceShareStored:yield e.getDeviceShare(),walletUserId:yield e.getWalletUserId(),clientId:this.clientId}}))}};function U({clientId:e,path:t,queryParams:i}){var n;let r=new URL(t,(0,s.OB)());if(i)for(let e of Object.keys(i))r.searchParams.set(e,(null==(n=i[e])?void 0:n.toString())||"");return r.searchParams.set("clientId",e),r}var b="paper-embedded-wallet-iframe",k=class{constructor({querier:e,preLogin:t,postLogin:i,clientId:n}){this.LoginQuerier=e,this.preLogin=t,this.postLogin=i,this.clientId=n}sendPaperEmailLoginOtp(e){return y(this,arguments,(function*({email:e,recoveryShareManagement:t}){yield this.preLogin();let{isNewUser:i,isNewDevice:n,recoveryShareManagement:r}=yield this.LoginQuerier.call({procedureName:"sendPaperEmailLoginOtp",params:{email:e,recoveryShareManagement:t}});return{isNewUser:i,isNewDevice:n,recoveryShareManagement:r}}))}},R=class extends k{constructor(){super(...arguments),this.closeWindow=({isWindowOpenedByFn:e,win:t,closeOpenedWindow:i})=>{e?null==t||t.close():t&&i?i(t):t&&t.close()}}loginWithPaperModal(){return y(this,null,(function*(){yield this.preLogin();let e=yield this.LoginQuerier.call({procedureName:"loginWithPaperModal",params:{recoveryShareManagement:"AWS_MANAGED"},showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(e)}))}getGoogleLoginUrl(){return y(this,null,(function*(){return yield this.LoginQuerier.call({procedureName:"getHeadlessGoogleLoginLink",params:void 0})}))}loginWithGoogle(e){return y(this,null,(function*(){yield this.preLogin();let t=null==e?void 0:e.openedWindow,i=!1;if(t||(t=window.open("","Login","width=350, height=500"),i=!0),!t)throw new Error("Something went wrong opening pop-up");yield this.preLogin();let{loginLink:n}=yield this.getGoogleLoginUrl();t.location.href=n;let r=yield new Promise(((n,r)=>{let o=window.setInterval((()=>y(this,null,(function*(){t&&t.closed&&(clearInterval(o),window.removeEventListener("message",a),r(new Error("User closed login window")))}))),1e3),a=l=>y(this,null,(function*(){if(l.origin===(0,s.OB)()){if("object"!=typeof l.data)return void r(new Error("Invalid event data"));switch(l.data.eventType){case"userLoginSuccess":window.removeEventListener("message",a),clearInterval(o),this.closeWindow({isWindowOpenedByFn:i,win:t,closeOpenedWindow:null==e?void 0:e.closeOpenedWindow}),l.data.authResult&&n(l.data.authResult);break;case"userLoginFailed":window.removeEventListener("message",a),clearInterval(o),this.closeWindow({isWindowOpenedByFn:i,win:t,closeOpenedWindow:null==e?void 0:e.closeOpenedWindow}),r(new Error(l.data.error));break;case"injectDeveloperClientId":null==t||t.postMessage({eventType:"injectDeveloperClientIdResult",developerClientId:this.clientId},(0,s.OB)())}}}));window.addEventListener("message",a)}));return this.postLogin({storedToken:v(I({},r.storedToken),{shouldStoreCookieString:!0}),walletDetails:v(I({},r.walletDetails),{isIframeStorageEnabled:!1})})}))}loginWithPaperEmailOtp(e){return y(this,arguments,(function*({email:e}){yield this.preLogin();let t=yield this.LoginQuerier.call({procedureName:"loginWithPaperModal",params:{email:e,recoveryShareManagement:"AWS_MANAGED"},showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(t)}))}verifyPaperEmailLoginOtp(e){return y(this,arguments,(function*({email:e,otp:t}){let i=yield this.LoginQuerier.call({procedureName:"verifyPaperEmailLoginOtp",params:{email:e,otp:t,recoveryShareManagement:"AWS_MANAGED"},injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(i)}))}},j=class extends k{loginWithPaperModal(e){return y(this,null,(function*(){yield this.preLogin();let t=yield this.LoginQuerier.call({procedureName:"loginWithPaperModal",params:void 0,showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0,getRecoveryCode:null==e?void 0:e.getRecoveryCode}});return this.postLogin(t)}))}loginWithGoogle(e){return y(this,null,(function*(){throw new Error("loginWithGoogle is not yet supported in the RecoveryShareManagement.USER_MANAGED flow. Please use RecoveryShareManagement.AWS_MANAGED instead.")}))}loginWithPaperEmailOtp(e){return y(this,arguments,(function*({email:e,recoveryCode:t}){yield this.preLogin();let i=yield this.LoginQuerier.call({procedureName:"loginWithPaperModal",params:{email:e,recoveryCode:t},showIframe:!0,injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(i)}))}verifyPaperEmailLoginOtp(e){return y(this,arguments,(function*({email:e,otp:t,recoveryCode:i}){let n=yield this.LoginQuerier.call({procedureName:"verifyPaperEmailLoginOtp",params:{email:e,otp:t,recoveryCode:i},injectRecoveryCode:{isInjectRecoveryCode:!0}});return this.postLogin(n)}))}},q=class{constructor({chain:e,clientId:t,querier:i}){this.chain=e,this.clientId=t,this.gaslessTransactionQuerier=i}callContract(e){return y(this,arguments,(function*({contractAddress:e,methodArgs:t,methodInterface:i}){return yield this.gaslessTransactionQuerier.call({procedureName:"callContract",params:{chain:this.chain,contractAddress:e,method:{args:t,stub:i}}})}))}},Q=class extends l.Signer{constructor({provider:e,clientId:t,querier:i}){var n;super(),this.DEFAULT_ETHEREUM_CHAIN_ID=5,this.clientId=t,this.querier=i,this.endpoint=null==(n=e.connection)?void 0:n.url,(0,d.defineReadOnly)(this,"provider",e)}getAddress(){return y(this,null,(function*(){let{address:e}=yield this.querier.call({procedureName:"getAddress",params:void 0});return e}))}signMessage(e){return y(this,null,(function*(){var t,i,n,r;let o=yield null==(t=this.provider)?void 0:t.getNetwork();o&&o._defaultProvider;let{signedMessage:s}=yield this.querier.call({procedureName:"signMessage",params:{message:e,chainId:null!=(r=null==(n=yield null==(i=this.provider)?void 0:i.getNetwork())?void 0:n.chainId)?r:this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return s}))}signTransaction(e){return y(this,null,(function*(){var t,i,n;let{signedTransaction:r}=yield this.querier.call({procedureName:"signTransaction",params:{transaction:e,chainId:null!=(n=null==(i=yield null==(t=this.provider)?void 0:t.getNetwork())?void 0:i.chainId)?n:this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return r}))}_signTypedData(e,t,i){return y(this,null,(function*(){var n,r,o;let{signedTypedData:s}=yield this.querier.call({procedureName:"signTypedDataV4",params:{domain:e,types:t,message:i,chainId:null!=(o=null==(r=yield null==(n=this.provider)?void 0:n.getNetwork())?void 0:r.chainId)?o:this.DEFAULT_ETHEREUM_CHAIN_ID,rpcEndpoint:this.endpoint}});return s}))}connect(e){return new Q({clientId:this.clientId,provider:e,querier:this.querier})}},z=class{constructor({clientId:e,chain:t,styles:i,advancedOptions:n,onAuthSuccess:r}){this.clientId=e,this.querier=new G({clientId:e,customizationOptions:i}),this.wallet=new class{constructor({clientId:e,chain:t,querier:i}){this.clientId=e,this.chain=t,this.walletManagerQuerier=i,this.gasless=new q({chain:t,clientId:e,querier:i}),this.localStorage=new _({clientId:e})}postWalletSetUp(e){return y(this,arguments,(function*({deviceShareStored:e,walletAddress:t,isIframeStorageEnabled:i,walletUserId:n}){return i||(yield this.localStorage.saveDeviceShare(e,n)),{walletAddress:t}}))}getUserWalletStatus(){return y(this,null,(function*(){let e=yield this.walletManagerQuerier.call({procedureName:"getUserStatus",params:void 0});return"Logged In, Wallet Initialized"===e.status?{status:"Logged In, Wallet Initialized",user:v(I({},e.user),{wallet:this})}:e}))}setChain(e){return y(this,arguments,(function*({chain:e}){this.chain=e,this.gasless=new q({chain:e,clientId:this.clientId,querier:this.walletManagerQuerier})}))}getEthersJsSigner(e){return y(this,null,(function*(){var t;return new Q({clientId:this.clientId,provider:(0,a.getDefaultProvider)(null!=(t=null==e?void 0:e.rpcEndpoint)?t:s.g1[this.chain]),querier:this.walletManagerQuerier})}))}}({clientId:e,chain:t,querier:this.querier}),this.auth=new class{constructor({clientId:e,advancedOptions:t,querier:i,onAuthSuccess:n}){var r;this.clientId=e,this.advancedOptions={recoveryShareManagement:null!=(r=null==t?void 0:t.recoveryShareManagement)?r:"AWS_MANAGED"},this.AuthQuerier=i,this.localStorage=new _({clientId:e}),this.onAuthSuccess=n,this.userManagedLogin=new j({postLogin:e=>y(this,null,(function*(){return this.postLogin(e)})),preLogin:()=>y(this,null,(function*(){yield this.preLogin()})),querier:i,clientId:e}),this.awsManagedLogin=new R({postLogin:e=>y(this,null,(function*(){return this.postLogin(e)})),preLogin:()=>y(this,null,(function*(){yield this.preLogin()})),querier:i,clientId:e})}preLogin(){return y(this,null,(function*(){yield this.logout()}))}postLogin(e){return y(this,arguments,(function*({storedToken:e,walletDetails:t}){return e.shouldStoreCookieString&&(yield this.localStorage.saveAuthCookie(e.cookieString)),yield this.onAuthSuccess({storedToken:e,walletDetails:t})}))}loginWithJwtAuth(e){return y(this,arguments,(function*({token:e,authProvider:t,recoveryCode:i}){yield this.preLogin();let n=yield this.AuthQuerier.call({procedureName:"loginWithJwtAuthCallback",params:{token:e,authProvider:t,recoveryCode:i}});return this.postLogin(n)}))}loginWithPaperModal(e){return y(this,null,(function*(){return yield this.preLogin(),"AWS_MANAGED"===this.advancedOptions.recoveryShareManagement?this.awsManagedLogin.loginWithPaperModal():this.userManagedLogin.loginWithPaperModal(e)}))}loginWithPaperEmailOtp(e){return y(this,null,(function*(){return"AWS_MANAGED"===this.advancedOptions.recoveryShareManagement?this.awsManagedLogin.loginWithPaperEmailOtp({email:e.email}):this.userManagedLogin.loginWithPaperEmailOtp(e)}))}loginWithGoogle(e){return y(this,null,(function*(){return"AWS_MANAGED"===this.advancedOptions.recoveryShareManagement?this.awsManagedLogin.loginWithGoogle(e):this.userManagedLogin.loginWithGoogle()}))}sendPaperEmailLoginOtp(e){return y(this,arguments,(function*({email:e}){return"AWS_MANAGED"===this.advancedOptions.recoveryShareManagement?this.awsManagedLogin.sendPaperEmailLoginOtp({email:e,recoveryShareManagement:"AWS_MANAGED"}):this.userManagedLogin.sendPaperEmailLoginOtp({email:e})}))}verifyPaperEmailLoginOtp(e){return y(this,null,(function*(){return"AWS_MANAGED"===this.advancedOptions.recoveryShareManagement?this.awsManagedLogin.verifyPaperEmailLoginOtp(e):this.userManagedLogin.verifyPaperEmailLoginOtp(e)}))}logout(){return y(this,null,(function*(){let{success:e}=yield this.AuthQuerier.call({procedureName:"logout",params:void 0}),t=yield this.localStorage.removeAuthCookie(),i=yield this.localStorage.removeWalletUserId();return{success:e||t||i}}))}}({clientId:e,advancedOptions:I({recoveryShareManagement:"USER_MANAGED"},null!=n?n:{}),querier:this.querier,onAuthSuccess:e=>y(this,null,(function*(){return yield this.wallet.postWalletSetUp(v(I({},e.walletDetails),{walletUserId:e.storedToken.authDetails.userWalletId})),yield this.querier.call({procedureName:"initIframe",params:{deviceShareStored:e.walletDetails.deviceShareStored,clientId:this.clientId,walletUserId:e.storedToken.authDetails.userWalletId,authCookie:e.storedToken.cookieString}}),null==r||r(e),{user:{status:"Logged In, Wallet Initialized",authDetails:e.storedToken.authDetails,wallet:this.wallet,walletAddress:e.walletDetails.walletAddress}}}))})}getUser(){return y(this,null,(function*(){let e=yield this.wallet.getUserWalletStatus();switch(e.status){case"Logged In, New Device":case"Logged In, Wallet Uninitialized":return yield this.auth.logout(),this.getUser();case"Logged Out":return{status:"Logged Out"};case"Logged In, Wallet Initialized":return I({status:"Logged In, Wallet Initialized"},e.user)}}))}}}}]);