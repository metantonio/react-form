(self.webpackChunkreact_hello_webapp=self.webpackChunkreact_hello_webapp||[]).push([[944],{8674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(67294),l=n(29331),r=n(55168);const s=function(e){return function(){var t=(0,a.useContext)(l._),n=t.store;t.actions;return n.logOutConfirmation?a.createElement(e,null):a.createElement(r.Redirect,{to:"/iq-login"})}}},51420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var a=n(15861),l=(n(93433),n(29439)),r=n(64687),s=n.n(r),c=n(67294),i=n(29331),o=n(8674),m=n(4942),u=n(3838),d=n(64811),p=n(77750),f=n(95970),h=n(88979),g=n(17012),b=n(36012),E=n(1940),v=n(61532),y=n(32929),j=n(584),w=n(20466),x=n(4958),N=n(30381),k=n.n(N),S=n(36015),C=n(41120),Z=n(86455),T=n.n(Z);n(55655);var z=function(e){return c.createElement(E.Z,e,c.createElement("div",{className:"rbc-toolbar-label"},e.label),c.createElement("div",{className:"rbc-btn-group"},c.createElement("button",{type:"button",onClick:e.onNavigatePrev},"Prev"),c.createElement("button",{type:"button",onClick:e.onNavigateNext},"Next")))};const D=function(e){var t=e.campaignD,n=e.setTemporalCalendar,r=(0,c.useContext)(i._),o=r.store,u=r.actions,d=(0,c.useState)(!1),p=(0,l.Z)(d,2),f=p[0],h=p[1],g=(0,c.useState)(!1),E=(0,l.Z)(g,2),N=E[0],Z=E[1],T=(0,c.useState)({start:"",end:"",title:"",id:0}),D=(0,l.Z)(T,2),O=D[0],_=D[1],L=(0,c.useState)({name:"12:00am",hour:0,minutes:0}),M=(0,l.Z)(L,2),W=M[0],A=M[1],I=(0,c.useState)({name:"11:59pm",hour:23,minutes:59}),R=(0,l.Z)(I,2),F=R[0],H=R[1],P=(0,c.useState)([{name:"6:00am",hour:6,minute:0},{name:"6:30am",hour:6,minute:30},{name:"7:00am",hour:7,minute:0},{name:"7:30am",hour:7,minute:30},{name:"8:00am",hour:8,minute:0},{name:"8:30am",hour:8,minute:30},{name:"9:00am",hour:9,minute:0},{name:"9:30am",hour:9,minute:30},{name:"10:00am",hour:10,minute:0},{name:"10:30am",hour:10,minute:30},{name:"11:00am",hour:11,minute:0},{name:"11:30am",hour:11,minute:30},{name:"12:00pm",hour:12,minute:0},{name:"12:30pm",hour:12,minute:30},{name:"1:00pm",hour:13,minute:0},{name:"1:30pm",hour:13,minute:30},{name:"2:00pm",hour:14,minute:0},{name:"2:30pm",hour:14,minute:30},{name:"3:00pm",hour:15,minute:0},{name:"3:30pm",hour:15,minute:30},{name:"4:00pm",hour:16,minute:0},{name:"4:30pm",hour:16,minute:30},{name:"5:00pm",hour:17,minute:0},{name:"5:30pm",hour:17,minute:30},{name:"6:00pm",hour:18,minute:0},{name:"6:30pm",hour:18,minute:30},{name:"7:00pm",hour:19,minute:0},{name:"7:30pm",hour:19,minute:30},{name:"8:00pm",hour:20,minute:0},{name:"8:30pm",hour:20,minute:30},{name:"9:00pm",hour:21,minute:0},{name:"9:30pm",hour:21,minute:30},{name:"10:00pm",hour:22,minute:0},{name:"10:30pm",hour:22,minute:30},{name:"11:00pm",hour:23,minute:0},{name:"11:30pm",hour:23,minute:30},{name:"12:00am",hour:0,minute:0}]),U=(0,l.Z)(P,2),B=U[0],q=(U[1],(0,c.useState)("")),Y=(0,l.Z)(q,2),G=Y[0],J=(Y[1],(0,c.useState)(!1)),Q=(0,l.Z)(J,2),V=(Q[0],Q[1],(0,c.useState)("")),K=(0,l.Z)(V,2),X=K[0],$=(K[1],(0,c.useState)("")),ee=(0,l.Z)($,2),te=ee[0],ne=(ee[1],(0,c.useState)(!1)),ae=(0,l.Z)(ne,2),le=ae[0],re=ae[1],se=(0,c.useState)(!1),ce=(0,l.Z)(se,2),ie=ce[0],oe=ce[1],me=(0,c.useState)(!1),ue=(0,l.Z)(me,2),de=ue[0],pe=ue[1],fe=(0,c.useState)(!1),he=(0,l.Z)(fe,2),ge=he[0],be=he[1],Ee=(0,c.useState)(!1),ve=(0,l.Z)(Ee,2),ye=ve[0],je=ve[1],we=(0,c.useState)(!1),xe=(0,l.Z)(we,2),Ne=xe[0],ke=xe[1],Se=(0,c.useState)(!1),Ce=(0,l.Z)(Se,2),Ze=Ce[0],Te=Ce[1],ze=(0,c.useState)({name:"default",path:""}),De=(0,l.Z)(ze,2),Oe=De[0],_e=(De[1],(0,b.Zt)(k())),Le={"en-US":x.Z};_e=(0,b.lD)({format:v.Z,parse:y.Z,startOfWeek:j.Z,getDay:w.Z,locales:Le});var Me,We,Ae,Ie,Re,Fe=(0,C.Z)((function(e){return{modal:{position:"relative",display:"inline-block",justifyContent:"center",minHeight:"640px",width:"100%",maxWidth:"550px",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflowY:"auto",overflowX:"auto",zIndex:9999,padding:"0px",color:"black"},modal2:(0,m.Z)({position:"relative",display:"inline-block",justifyContent:"center",height:"600px",width:"fit-content",minWidth:"400px",maxWidth:"max-content",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflowY:"scroll",zIndex:9999,padding:"10px"},"zIndex","9999 !important"),iconos:{cursor:"pointer"},inputMaterial:{width:"100%"}}}))(),He=function(e){h(!f),e&&(_(e),A({name:"12:00am",hour:0,minutes:0}),H({name:"11:59pm",hour:23,minutes:59}),re(!1))},Pe=function(e){Z(!N),e&&_(e)},Ue=function(e){var t=new Date(e);t.setSeconds(t.getSeconds()-1);var n=t.getFullYear(),a=t.getMonth()+1,l=t.getDate();return a<10&&(a="0"+a),l<10&&(l="0"+l),n+"-"+a+"-"+l+" 23:59"},Be=function(e){console.log(e);var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,l=t.getDate(),r=t.getHours(),s=t.getMinutes();a<10&&(a="0"+a),l<10&&(l="0"+l),r<10&&(r="0"+r),s<10&&(s="0"+s);var c=n+"-"+a+"-"+l+" "+r+":"+s+":00.0";return console.log("newFormat: ",t),c},qe=[{title:"Meetings",start:new Date("2023-05-05 10:22:00"),end:new Date("2023-05-05 10:42:00")}],Ye=(0,c.useState)(qe),Ge=(0,l.Z)(Ye,2),Je=Ge[0],Qe=Ge[1],Ve=(0,c.useState)(qe),Ke=(0,l.Z)(Ve,2),Xe=(Ke[0],Ke[1]),$e=function(){var e=(0,a.Z)(s().mark((function e(t){var a,l,r,c,i,o,m,u,d,p,f,h,g,b,E,v,y,j,w,x,N,k;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.start,l=t.end,t.id,r=t.messages,c=t.title,i=t.emails,o=t.reminder,t.template_path,m=t.daily,u=t.weekly,d=t.trimestral,p=t.halfAnual,f=t.anually,h=t.monthly,console.log(a,l),g=a.split(" "),b=g[0].split("-"),E=g[1].split(":"),v=b[0]+"-"+b[1]+"-"+b[2]+"T"+E[0]+":"+E[1]+":"+E[2]+"Z",y=new Date(v),console.log("start2: ",y),j=l.split(" "),w=j[0].split("-"),x=j[1].split(":"),v=w[0]+"-"+w[1]+"-"+w[2]+"T"+x[0]+":"+x[1]+":"+x[2]+"Z",N=new Date(v),(new Date).getTime(),i&&(titleMain=c+"ðŸ“§"),console.log("end2:",N),k={Calendar:{start:y,end:N,title:c,messages:r,emails:i,reminder:o,sent:!1,template_path:Oe.path,daily:m,weekly:u,trimestral:d,half_anual:p,anually:f,monthly:h}},Qe([k.Calendar]),Xe(k.Calendar),n({start:y,end:N,title:c,messages:r,emails:i,reminder:o,sent:!1,template_path:Oe.path,daily:m,weekly:u,trimestral:d,half_anual:p,anually:f,monthly:h}),console.log("en schedule:",k),He();case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=(0,a.Z)(s().mark((function e(n){var a,l,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Y"!=window.prompt("Do you want delete this event [Y] ?")){e.next=31;break}return console.log(n),a=Je.slice(),Qe((function(e){return e.filter((function(e,t){return e.id?e.id!=n.id:e.title.toLowerCase().trim()!=n.title.toLowerCase().trim()}))})),a=a.filter((function(e,t){return e.id?e.id!=n.id:e.title.toLowerCase().trim()!=n.title.toLowerCase().trim()})),l={Compania:o.user.JRCompaniaAut[0],Calendar:Je[0],campaign_id:t.id},Xe(a),e.next=10,u.getGenerico3("/calendarnode/deleteCalendar",l,"PUT");case 10:if(!(r=e.sent).ok){e.next=23;break}return e.next=14,r.json();case 14:return r=e.sent,e.t0=alert,e.next=18,r.message;case 18:e.t1=e.sent,(0,e.t0)(e.t1),Pe(),e.next=31;break;case 23:return e.next=25,r.json();case 25:return r=e.sent,e.t2=alert,e.next=29,r.message;case 29:e.t3=e.sent,(0,e.t2)(e.t3);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=(0,c.useMemo)((function(){return{defaultDate:new Date(2015,3,12),scrollToTime:new Date(1970,1,1,6)}}),[]),nt=(tt.defaultDate,tt.scrollToTime);return(0,c.useEffect)((function(){var e=[t];Qe(e),Xe(e);var n=document.querySelectorAll("button");if(n.length>0)for(var a=0;a<n.length;a++)if(""==n[a].classList.toString()||"rbc-active"==n[a].classList.toString())switch(n[a].classList.add("btn"),n[a].classList.add("btn-outline-primary"),n[a].style="min-height: 35px; min-width: 20px;",console.log(n[a].classList.toString()),n[a].innerHTML){case"Today":n[a].innerHTML="Today";break;case"Back":n[a].innerHTML="Back";break;case"Next":n[a].innerHTML="Next";break;case"Month":n[a].innerHTML="Month";break;case"Day":n[a].innerHTML="Day";break;case"Week":n[a].innerHTML="Week"}var l=document.querySelector(".rbc-btn-group");l&&(l.style="min-height: 35px;",document.querySelector(".rbc-toolbar").classList.add("d-flex"),document.querySelector(".rbc-toolbar").classList.add("justify-content-between"))}),[]),c.createElement(c.Fragment,null,c.createElement(b.f,{localizer:_e,events:Je,startAccessor:"start",defaultDate:new Date,defaultView:"month",endAccessor:"end",onSelectEvent:Pe,onSelectSlot:He,selectable:!0,scrollToTime:nt,style:{height:"100%"},toolbar:z}),c.createElement("div",{className:"row py-2 my-1"},c.createElement("div",{align:"right"})),c.createElement(S.Z,{open:f,onClose:He},c.createElement("div",{className:Fe.modal},c.createElement("div",{className:"d-flex container-fluid",id:" visual-comprobante",style:{justifyContent:"start",alignItems:"center",backgroundColor:"#efeeee"}},c.createElement("div",{style:{padding:"10px"}},c.createElement("h3",{style:{fontSize:"1.2rem"}},"Schedule")),c.createElement("br",null)),c.createElement("div",{style:{justifyContent:"start",alignItems:"center"}},c.createElement("div",{style:{padding:"15px"}},c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"Start:")),c.createElement("div",{className:"col-5 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",placeholder:(Me=O.start,We=new Date(Me),Ae=We.getFullYear(),Ie=We.getMonth()+1,Re=We.getDate(),Ie<10&&(Ie="0"+Ie),Re<10&&(Re="0"+Re),Ae+"-"+Ie+"-"+Re),style:{width:"100%",borderWidth:"0px 0px 1px 0px",fontSize:"1.0rem"},disabled:!0})),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"Add Time")),c.createElement("div",{className:"col-3 justify-content-center align-items-center"},c.createElement("span",{className:"d-flex flex-nowrap dropwdowncustom my-0 px-1 mx-0"},c.createElement("div",{className:"dropdown justify-content-center align-items-center"},c.createElement("button",{id:"cajitagris",type:"button",className:"btn btn-primary dropdown-toggle btn-sm h-76","data-bs-toggle":"dropdown"},W.name),c.createElement("ul",{className:"dropdown-menu",style:{height:"180px",overflow:"auto"}},B.map((function(e,t){return c.createElement("li",{className:"dropdown-item",key:t,onClick:function(t){A({hour:e.hour,minutes:e.minute,name:e.name})}},e.name)}))))))),c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"End:")),c.createElement("div",{className:"col-5 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",placeholder:Ue(O.end),style:{width:"100%",borderWidth:"0px 0px 1px 0px",fontSize:"1.0rem"},disabled:!0})),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"Add Time")),c.createElement("div",{className:"col-3 justify-content-center align-items-center"},c.createElement("span",{className:"d-flex flex-nowrap dropwdowncustom my-0 px-1 mx-0"},c.createElement("div",{className:"dropdown justify-content-center align-items-center"},c.createElement("button",{id:"cajitagris",type:"button",className:"btn btn-primary dropdown-toggle btn-sm h-76","data-bs-toggle":"dropdown"},F.name),c.createElement("ul",{className:"dropdown-menu",style:{height:"180px",overflow:"auto"}},B.map((function(e,t){return c.createElement("li",{className:"dropdown-item",key:t,onClick:function(t){H({hour:e.hour,minutes:e.minute,name:e.name})}},e.name)}))))))),c.createElement("br",null),c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Remind 1 day before:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){re(!le)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat daily:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){oe(!ie)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat weekly:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){pe(!de)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat monthly:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){be(!ge)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat every 3 months:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){je(!ye)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat every 6 months:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){ke(!Ne)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat anually:")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox",onChange:function(e){Te(!Ze)}}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat on customer's birthday: (not working a.t.m)")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox"}))),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("span",null,"Repeat on customer's anniversary: (not working a.t.m)")),c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",type:"checkbox"})))),c.createElement("div",{align:"d-flex row px-2 mx-2"},c.createElement("div",{className:"col-1"}),c.createElement("div",{className:"col-11",style:{display:"flex",flexDirection:"row-reverse"}},c.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return He()}},"Close"),c.createElement("button",{className:"btn btn-outline-success",onClick:function(){var e=JSON.parse(JSON.stringify(O));e.start=Be(new Date(O.start).setHours(W.hour,W.minutes)),e.end=Be(new Date(Ue(O.end)).setHours(F.hour,F.minutes)),e.messages=X,e.emails=te,e.title=G,e.template_path=Oe.path,e.reminder=le,e.daily=ie,e.weekly=de,e.monthly=ge,e.weekly=de,e.trimestral=ye,e.halfAnual=Ne,e.anually=Ze,console.log("event modified: ",e),$e(e)}},"Create")))))),c.createElement(S.Z,{open:N,onClose:Pe},c.createElement("div",{className:Fe.modal},c.createElement("div",{className:"d-flex container-fluid",id:" visual-comprobante",style:{justifyContent:"start",alignItems:"center",backgroundColor:"#efeeee"}},c.createElement("div",{style:{padding:"10px"}},c.createElement("h3",{style:{fontSize:"1.2rem"}},"Info")),c.createElement("br",null)),c.createElement("div",{style:{justifyContent:"start",alignItems:"center"}},c.createElement("div",{style:{padding:"15px"}},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center"},c.createElement("input",{className:"input-event",placeholder:O.title,style:{width:"80%",borderWidth:"0px 0px 1px 0px",fontSize:"1.2rem"},disabled:!0}))),c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"Start:")),c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",placeholder:O.start,style:{width:"100%",borderWidth:"0px 0px 1px 0px",fontSize:"1.0rem"},disabled:!0}))),c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"End:")),c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",placeholder:O.end,style:{width:"100%",borderWidth:"0px 0px 1px 0px",fontSize:"1.0rem"},disabled:!0}))),c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"Template:")),c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("input",{className:"input-event",placeholder:O.template_path?O.template_path:"",style:{width:"100%",borderWidth:"0px 0px 1px 0px",fontSize:"1.0rem"},disabled:!0}))),c.createElement("br",null),c.createElement("div",{className:"row d-flex"},c.createElement("div",{className:"col-2 justify-content-center align-items-center"},c.createElement("span",null,"Send to:")),c.createElement("div",{className:"col-10 justify-content-center align-items-center"},c.createElement("textarea",{className:"input-event",placeholder:O.emails?O.emails:"",style:{width:"100%",borderWidth:"0px 0px 1px 0px",fontSize:"1.0rem"},disabled:!0})))),c.createElement("br",null),c.createElement("div",{align:"d-flex row px-2 mx-2"},c.createElement("div",{className:"col-1"}),c.createElement("div",{className:"col-11",style:{display:"flex",flexDirection:"row-reverse"}},c.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return Pe()}},"Close"),c.createElement("button",{className:"btn btn-outline-success",onClick:function(){et(O)}},"Delete")))))))};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=(0,c.lazy)((function(){return n.e(683).then(n.bind(n,44683))})),M=(0,c.lazy)((function(){return n.e(765).then(n.bind(n,22765))})),W=(0,c.lazy)((function(){return n.e(190).then(n.bind(n,60190))}));const A=function(e){var t,n=(0,c.useState)(null),r=(0,l.Z)(n,2),i=r[0],o=r[1],m=(0,c.useState)(""),b=(0,l.Z)(m,2),E=b[0],v=b[1],y=(0,c.useState)(!1),j=(0,l.Z)(y,2),w=j[0],x=j[1],N=(0,c.useState)([]),k=(0,l.Z)(N,2),Z=(k[0],k[1],(0,c.useState)("")),z=(0,l.Z)(Z,2),O=(z[0],z[1],(0,c.useState)("")),A=(0,l.Z)(O,2),I=(A[0],A[1],(0,c.useState)("")),R=(0,l.Z)(I,2),F=(R[0],R[1],(0,c.useState)(!1)),H=(0,l.Z)(F,2),P=H[0],U=H[1],B=(0,c.useState)(!1),q=(0,l.Z)(B,2),Y=q[0],G=q[1],J=(0,c.useState)(!1),Q=(0,l.Z)(J,2),V=Q[0],K=Q[1],X=(0,c.useState)({}),$=(0,l.Z)(X,2),ee=$[0],te=$[1],ne=(0,c.useState)(!1),ae=(0,l.Z)(ne,2),le=ae[0],re=ae[1],se=(0,c.useState)('<div class="container">Hi</div>'),ce=(0,l.Z)(se,2),ie=ce[0],oe=ce[1],me=(0,c.useState)(""),ue=(0,l.Z)(me,2),de=ue[0],pe=ue[1],fe=(0,c.useState)(""),he=(0,l.Z)(fe,2),ge=he[0],be=he[1],Ee=(0,c.useState)(""),ve=(0,l.Z)(Ee,2),ye=ve[0],je=ve[1],we=(0,c.useState)("antonio.martinez@qlx.com"),xe=(0,l.Z)(we,2),Ne=xe[0],ke=xe[1],Se=(0,c.useState)("QLX"),Ce=(0,l.Z)(Se,2),Ze=Ce[0],Te=Ce[1],ze=(0,c.useState)("Bal Harbor, Florida"),De=(0,l.Z)(ze,2),Oe=De[0],_e=De[1],Le=(0,c.useState)({name:"Default",path:"./utils/templates/customBasic.handlebars"}),Me=(0,l.Z)(Le,2),We=Me[0],Ae=Me[1],Ie=(0,c.useState)(""),Re=(0,l.Z)(Ie,2),Fe=Re[0],He=Re[1],Pe=(0,c.useState)(""),Ue=(0,l.Z)(Pe,2),Be=Ue[0],qe=Ue[1],Ye=[{name:"Basic",path:"./utils/templates/customBasic.handlebars",preview:"/template/3",component:c.createElement(W,null)},{name:"Appointment",path:"./utils/templates/customCalendar.handlebars",preview:"/template/1",component:c.createElement(L,null)},{name:"Confirmation Receipt",path:"./utils/templates/customReceipt.handlebars",preview:"/template/2",component:c.createElement(M,null)}],Ge=function(){G(!Y)},Je=function(e){K(!V)},Qe=(0,C.Z)((function(e){return{modal:{position:"relative",display:"inline-block",justifyContent:"center",height:600,width:600,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto"},modal2:{position:"relative",display:"inline-block",justifyContent:"center",height:700,width:700,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto"},iconos:{cursor:"pointer"},inputMaterial:{width:"100%"}}}))(),Ve=c.createElement(c.Fragment,null,c.createElement("div",{className:Qe.modal},"Here should be a nice view to send this campaign again may be? or special offer to this customer.",c.createElement("div",{align:"right"},c.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return Ge()}},"Cancel")),c.createElement(D,{campaignD:{id:1},setTemporalCalendar:te}),c.createElement("div",{align:"right"},c.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return Ge()}},"Cancel")))),Ke=function(){var t=(0,a.Z)(s().mark((function t(n){var a,l,r,c,o,m,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,!i){t.next=38;break}if(re(!0),a=new FormData(n.target),l="http://74.207.229.40:3341/csv-email",a.append("file",i),""!=E){t.next=11;break}return re(!1),alert("write a message"),t.abrupt("return");case 11:return r=_(_({},ee),{},{message:E,url:de,html:ie,template:We.path,img:ge,support:Ne,companyname:Ze,companyaddress:Oe,title:ye,start:Fe,end:Be}),console.log("valor de OBJ: ",r),c=JSON.stringify(r),a.append("data",c),t.next=17,fetch(l,{method:"POST",body:a,headers:{Authorization:"Bearer "+localStorage.getItem("tokenqruser")}});case 17:if(!(o=t.sent).ok){t.next=29;break}return re(!1),t.next=22,o.json();case 22:m=t.sent,console.log("Backend response:",m),e.setRefresh(!e.refresh),Xe(),T().fire({icon:"success",title:"".concat(m.message," \n -Total Customers: ").concat(m.length," \n -Messages Sent:").concat(m.count),showConfirmButton:!0,timer:2e3}),t.next=36;break;case 29:return re(!1),console.error("Error sending:",o.statusText),t.next=33,o.json();case 33:u=t.sent,console.log("Backend response:",u),alert("".concat(u.message));case 36:t.next=39;break;case 38:alert("Please, Select a .csv file first");case 39:t.next=45;break;case 41:t.prev=41,t.t0=t.catch(1),re(!1),console.error("Error trying to sending:",t.t0);case 45:case"end":return t.stop()}}),t,null,[[1,41]])})));return function(e){return t.apply(this,arguments)}}(),Xe=function(){x(!1)},$e=function(e){var t="".concat(E," ").concat(e);v(t)};return c.createElement("div",{className:"container"},c.createElement(u.Z,{open:w,onClose:Xe},c.createElement(d.Z,null,"Setup Message"),c.createElement(p.Z,null,c.createElement("div",{className:"row d-flex mt-1 pt-1"},c.createElement("div",{className:"col-4 justify-content-center align-items-center"},c.createElement("span",null,"Choose a Template:")),c.createElement("div",{className:"col justify-content-center align-items-center"},c.createElement("span",{className:"d-flex flex-nowrap dropwdowncustom my-0 px-0 mx-0"},c.createElement("div",{className:"dropdown justify-content-center align-items-center"},c.createElement("button",{id:"cajitagris",type:"button",className:"btn btn-primary dropdown-toggle btn-sm h-76","data-bs-toggle":"dropdown"},We.name),c.createElement("ul",{className:"dropdown-menu",style:{height:"180px",overflow:"auto"}},Ye.map((function(e,t){return c.createElement("li",{className:"dropdown-item",key:t,onClick:function(t){Ae(e)}},e.name)})))))),c.createElement("div",{className:"col-3 justify-content-center align-items-center"},We&&We.preview?c.createElement(c.Fragment,null,c.createElement("button",{className:"btn btn-primary",onClick:function(){Je(We.preview)}},"Preview")):c.createElement(c.Fragment,null))),c.createElement("br",null),c.createElement(f.Z,{label:"Title",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:ye,placeholder:"Title",onChange:function(e){return je(e.target.value)},style:{marginTop:16}}),c.createElement("br",null),c.createElement(f.Z,{label:"Message",multiline:!0,rows:4,variant:"outlined",fullWidth:!0,value:E,placeholder:"You can use {first_name} {last_name} {url} in your message, or any other field in your .csv, to be changed by actual names in backend",onChange:function(e){return v(e.target.value)},style:{marginTop:16}}),c.createElement("div",{className:"toggle-button"},c.createElement("br",null),c.createElement("button",{className:"btn btn-light btn-sm mx-1",onClick:function(e){$e("{first_name}")}},"{first_name}"),c.createElement("button",{className:"btn btn-light btn-sm mx-1",onClick:function(e){$e("{last_name}")}},"{last_name}"),c.createElement("button",{className:"btn btn-light btn-sm mx-1",onClick:function(e){$e("{offer}")}},"{offer}"),c.createElement("button",{className:"btn btn-light btn-sm mx-1",onClick:function(e){$e("{url}")}},"{url}")),c.createElement("br",null),c.createElement(f.Z,{label:"Url to use in message",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:de,placeholder:"https://www.youtube.com",onChange:function(e){return pe(e.target.value)},style:{marginTop:16}}),c.createElement("br",null),c.createElement(f.Z,{label:"Url to change image header",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:ge,placeholder:"https://descubrecomohacerlo.com/wp-content/uploads/mch/mensaje-persona-recibio_9575.jpg",onChange:function(e){return be(e.target.value)},style:{marginTop:16}}),c.createElement("br",null),c.createElement(f.Z,{label:"Support Email",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:Ne,placeholder:"antonio.martinez@qlx.com",onChange:function(e){return ke(e.target.value)},style:{marginTop:16}}),c.createElement("br",null),c.createElement(f.Z,{label:"Company Name",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:Ze,placeholder:"QLX",onChange:function(e){return Te(e.target.value)},style:{marginTop:16}}),c.createElement(f.Z,{label:"Company Address",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:Oe,placeholder:"QLX",onChange:function(e){return _e(e.target.value)},style:{marginTop:16}}),We&&"/template/1"==We.preview?c.createElement(f.Z,{label:"Start",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:Fe,placeholder:"08/15/2023",onChange:function(e){return He(e.target.value)},style:{marginTop:16}}):c.createElement(c.Fragment,null),We&&"/template/1"==We.preview?c.createElement(f.Z,{label:"Start",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,value:Be,placeholder:"08/15/2023",onChange:function(e){return qe(e.target.value)},style:{marginTop:16}}):c.createElement(c.Fragment,null),c.createElement("br",null),c.createElement("div",{className:"toggle-button container-fluid"},c.createElement("br",null),c.createElement("button",{className:"btn btn-primary mx-1",onClick:Ge},Y?"Hide Schedule":"Schedule"),c.createElement("br",null),c.createElement("button",{className:"btn btn-primary mx-1",onClick:function(){U(!P)}},P?"Hide Advanced Options":"Advanced Options"),P&&c.createElement("div",{className:"container-fluid"},c.createElement("textarea",{className:"container-fluid",label:"Custom HTML",multiline:!0,variant:"outlined",fullWidth:!0,value:ie,onChange:function(e){return oe(e.target.value)},style:{marginTop:16}})))),c.createElement("form",{onSubmit:function(e){return Ke(e)},className:"container"},c.createElement("div",{className:"row d-flex justify-content-start align-items-center"},c.createElement("div",{className:"row d-flex justify-content-start align-items-center pb-1"},c.createElement("span",{className:"text-dark",style:{marginLeft:"5px"}},"Upload .csv"),c.createElement("input",{className:"upload-file",type:"file",accept:".csv",title:"upload .csv file",onChange:function(e){var t=e.target.files[0];t&&"text/csv"===t.type?o(t):(o(null),alert("Please select a CSV file."))},style:{height:"30px"}}),c.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1Ve425dbdUQHU95sJA8W05vwj_-FP8boJZAyEKfYbhFk/edit?usp=sharing",target:"_blank"},"Download the .csv template"))),c.createElement("br",null),c.createElement(h.Z,{className:"col d-flex justify-content-end align-items-center"},c.createElement(g.Z,{onClick:function(t){Xe(),e.setRefresh(!e.refresh)},className:"btn btn-danger",color:"primary",type:"button"},"Cancel"),c.createElement("button",{type:"submit",className:"btn btn-primary",color:"primary"},le?c.createElement("div",{className:"spinner-border text-primary"}):"Send Message")))),c.createElement(g.Z,{onClick:function(){x(!0)},color:"primary",className:"btn btn-danger"},"Use .csv file"),c.createElement(S.Z,{open:Y,onClose:Ge},Ve),c.createElement(S.Z,{open:V,onClose:Je},(t=We.component,c.createElement(c.Fragment,null,c.createElement("div",{className:Qe.modal},c.createElement("div",{align:"right"},c.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return Je()}},"Cancel")),t,c.createElement("div",{align:"right"},c.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){return Je()}},"Cancel")))))))};var I=n(49656),R=n(83461),F=n(26283),H=n.n(F),P=(n(24710),[{id:1,name:"Antonio MartÃ­nez",phone:"+13057130261"}]);const U=(0,o.Z)((function(){var e=(0,c.useContext)(i._),t=(e.store,e.actions),n=(0,c.useState)(!1),r=(0,l.Z)(n,2),o=(r[0],r[1]),m=(0,c.useState)([]),u=(0,l.Z)(m,2),d=u[0],p=(u[1],(0,c.useState)("")),f=(0,l.Z)(p,2),h=f[0],g=(f[1],(0,c.useState)("")),b=(0,l.Z)(g,2),E=b[0],v=(b[1],(0,c.useState)("")),y=(0,l.Z)(v,2),j=y[0],w=(y[1],(0,c.useState)("")),x=(0,l.Z)(w,2),N=x[0],k=(x[1],(0,c.useState)([])),S=(0,l.Z)(k,2),C=S[0],Z=S[1],T=(0,c.useState)(!1),z=(0,l.Z)(T,2),D=z[0],O=z[1],_=(0,I.k6)(),L=function(){var e=(0,a.Z)(s().mark((function e(){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Clientes seleccionados ID:",d),console.log("Mensaje:",h),n=d.map((function(e){return P.find((function(t){return t.id===e})).phone})),console.log("Clientes seleccionados Email:",n),a={message:h,clients:n,TWILIO_ACCOUNT_SID:E,TWILIO_AUTH_TOKEN:j,TWILIO_NUMBER:N},e.next=7,t.getGenerico3("/email-check",a,"POST");case 7:e.sent.ok?(O(!D),alert("message sent")):alert("error"),o(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getGenerico3("/all-email-campaign",{},"GET");case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:n=e.sent,Z(n.campaign);case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[D]),c.createElement(c.Fragment,null,c.createElement("h1",null,"Email Campaign"),c.createElement("div",{className:"container-fluid pt-2"},c.createElement("div",{className:"row d-flex justify-content-center"},c.createElement(A,{send:L,refresh:D,setRefresh:O}),c.createElement("div",{className:"mx-1"},c.createElement("button",{className:"nodrag btn btn-outline-success justify-content-center align-items-center"},c.createElement(R.CSVLink,{data:C,style:{textDecoration:"none",width:"100%",color:"black"}},"Export to CSV")),C&&C.length>0?c.createElement(c.Fragment,null,c.createElement(H(),{columns:[{title:"ID",field:"id",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"MESSAGE",field:"message",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"URL",field:"url",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"REGISTER DATE",field:"register_date",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"CUSTOMERS",field:"counter_clicks",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"UNIQUE CLICKS",field:"counter_real_clicks",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"TOTAL CLIKS",field:"counter_total_clicks",cellStyle:{whiteSpace:"wrap"},width:"4%"},{title:"STATUS",field:"status",cellStyle:{whiteSpace:"wrap"},width:"4%",render:function(e){return 0==e.status?"Stopped":"Running"}}],data:C,title:"CAMPAIGN EMAIL LIST",actions:[{icon:"search",tooltip:"Details",onClick:function(e,t){console.log(e,t),_.push("/iq-email/".concat(t.id))}}],options:{pageSize:10,actionsColumnIndex:-1,emptyRowsWhenPaging:!1,pageSizeOptions:[5,10,20,40]},localization:{header:{actions:"Actions"}}})):c.createElement(c.Fragment,null,c.createElement("br",null),c.createElement("br",null),c.createElement("h2",{className:"text-center"},"You don't have any active email campaign"))),c.createElement("br",null))))}))},46700:(e,t,n)=>{var a={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":63120,"./it-ch.js":63120,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function l(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=r,e.exports=l,l.id=46700}}]);